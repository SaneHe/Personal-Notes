## `HTTP` 与 `HTTPS` 的区别

`HTTP协议` 运行在 `TCP` 之上，明文传输，客户端与服务器端都无法验证对方的身份； `HTTPS`是身披 `SSL(Secure Socket Layer)` 外壳的 `HTTP`，运行于 `SSL` 上，`SSL` 运行于 `TCP`之上，是添加了加密和认证机制的 `HTTP`。二者之间存在如下不同：

- 端口不同：`HTTPS` 与 `HTTP` 使用不同的连接方式，用的端口也不一样，前者是 `80`，后者是`443`；
- 资源消耗：和 `HTTP` 通信相比，`HTTPS` 通信会由于加减密处理消耗更多的CPU和内存资源；
- 开销：`HTTPS` 通信需要证书，而证书一般需要向认证机构购买；
- `HTTPS` 的加密机制是一种共享密钥加密和公开密钥加密并用的混合加密机制。

## 对称加密与非对称加密

- `对称密钥加密` 是指加密和解密使用 `同一个密钥` 的方式，这种方式存在的最大问题就是密钥
  发送问题，即如何安全地将密钥发给对方；而非对称加密是指使用一对非对称密钥，即公钥和私
  钥，公钥可以随意发布，但私钥只有自己知道。发送密文的一方使用对方的公钥进行加密处理，
  对方接收到加密信息后，使用自己的私钥进行解密。
 - 由于非对称加密的方式`不需要`发送用来解密的私钥，所以可以保证安全性；但是和对称加密比
  起来，它非常的慢，所以我们还是要用对称加密来传送消息，但对称加密所使用的密钥我们可以通
  过非对称加密的方式发送出去。

## `TCP` 协议如何保持传输的可靠性

> `TCP` 提供一种面向连接的、可靠的字节流服务。其中，面向连接意味着两个使用 `TCP` 的应用
> （通常是一个客户和一个服务器）在彼此交换数据之前必须先建立一个 `TCP` 连接。
> 在一个 `TCP` 连接中，仅有两方进行彼此通信；而字节流服务意味着两个应用程序通过 `TCP` 
> 链接交换 `8bit` 字节构成的字节流，`TCP` 不在字节流中插入记录标识符。

对于可靠性，`TCP` 通过以下方式进行保证：
- 数据包校验：目的是检测数据在传输过程中的任何变化，若校验出包有错，则丢弃报文段并且不给
  出响应，这时 `TCP` 发送数据端超时后会重发数据；
- 对失序数据包重排序：既然 `TCP` 报文段作为 `IP` 数据报来传输，而 `IP` 数据报的到达可能
  会失序，因此 `TCP` 报文段的到达也可能会失序。`TCP` 将对失序数据进行重新排序，然后才交给应用层；
- 丢弃重复数据：对于重复数据，能够丢弃重复数据；
- 应答机制：当 `TCP` 收到发自 `TCP` 连接另一端的数据，它将发送一个确认。这个确认不是立即发送，通常将推迟几分之一秒；
- 超时重发：当 `TCP` 发出一个段后，它启动一个定时器，等待目的端确认收到这个报文段。如果不能及时收到一个确认，将重发这个报文段；
- 流量控制：`TCP` 连接的每一方都有固定大小的缓冲空间。`TCP` 的接收端只允许另一端发送接收
  端缓冲区所能接纳的数据，这可以防止较快主机致使较慢主机的缓冲区溢出，这就是流量控制。`TCP` 使用的流量控制协议是可变大小的滑动窗口协议。

## 查找域名对应的 `IP` 地址

>这一步包括 `DNS` 具体的查找过程，包括：浏览器缓存->系统缓存->路由器缓存...

- 浏览器搜索`自己`的 `DNS缓存`（维护一张域名与 `IP地址的对应表`）；
- 搜索`操作系统`中的 `DNS缓存`（维护一张域名与 `IP地址的对应表`）；
- 搜索`操作系统的hosts文件`（ Windows环境下，维护一张域名与IP地址的对应表）；
- 操作系统将域名发送至 `LDNS`（本地区域名服务器），`LDNS`查询自己的`DNS缓存`（一般查找成功率在80%左右），查找成功则返回结果，失败则发起一个`迭代DNS解析请求`：
    - `LDNS`向 `Root` `Name` `Server`（根域名服务器，如`com`、`net`、`org`等的解析的顶级
        域名服务器的地址）发起请求，此处，`Root Name Server`返回`com域`的顶级域名服务器的地址；
    - `LDNS` 向 `com域` 的顶级域名服务器发起请求，返回baidu.com域名服务器地址；
    - `LDNS`向baidu.com域名服务器发起请求，得到www.baidu.com的IP地址；
- `LDNS` 将得到的IP地址返回给操作系统，同时自己也将IP地址缓存起来；
- 操作系统将IP地址返回给浏览器，同时自己也将IP地址缓存起来。

## 从输入 `URL` 到页面加载发生了什么

#### 总体来说分为以下几个过程:

- `DNS` 解析
- `TCP` 连接
- 发送 `HTTP` 请求
- 服务器处理请求并返回 `HTTP` 报文
- 浏览器解析渲染页面
- 连接结束

## `HTTP` 的几种请求方法的用途

- `GET` 方法：发送一个请求来取得服务器上的某一资源
- `POST` 方法：向 `URL` 指定的资源提交数据或附加新的数据
- `PUT` 方法：跟 `POST` 方法很像，也是向服务器提交数据。但是，它们之间有不同。`PUT` 指定了资源在服务器上的位置，而 `POST` 没有
- `HEAD` 方法：只请求页面的首部
- `DELETE` 方法：删除服务器上的某资源
- `OPTIONS` 方法：它用于获取当前 `URL` 所支持的方法。如果请求成功，会有一个 `Allow` 的头包含类似`“GET,POST”` 这样的信息
- `TRACE` 方法：`TRACE` 方法被用于激发一个远程的，应用层的请求消息回路
- `CONNECT` 方法：把请求连接转换到透明的 `TCP/IP` 通道